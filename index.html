<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#1a2a6c">
    <title>Êâì Victor</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    
    <!-- favicon Ë®≠ÂÆö -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, doc, getDoc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCjrS24QtvHm31nR_0TTn5caVWbcJkXEcw",
            projectId: "hitvictorhighscore",
            appId: "1:643950387981:web:3cd0288c487f4abbe58644"
        };

        // ÂàùÂßãÂåñ Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        // Â∞á db ÂêåÂüãÂÖ∂‰ªñÈúÄË¶ÅÂòÖÂáΩÊï∏Ë®≠ÁÇ∫ÂÖ®ÂüüËÆäÊï∏
        window.db = db;
        window.doc = doc;
        window.getDoc = getDoc;
        window.setDoc = setDoc;
        window.onSnapshot = onSnapshot;
    </script>

    <script>
        if ('serviceWorker' in navigator &&
            (window.location.protocol === 'https:' || window.location.hostname === 'localhost')) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <h1>Êâì Victor!</h1>
            <div class="controls">
                <button id="resetBtn">ÈñãÂßã</button>
            </div>
        </div>

        <div class="instructions">
            <div class="instruction-content">
                <div class="instruction-title">
                    <span class="icon">üëä</span> ÈªûÊìäÊîªÊìä Victor!
                </div>
                <div class="instruction-details">
                    <div class="detail-item">
                        <span class="icon">‚è±Ô∏è</span> ÈôêÊôÇ20Áßí
                    </div>
                    <div class="detail-item">
                        <span class="icon">‚≠ê</span> Áùá‰∏ã‰Ω†Â§†ÂîîÂ§†Âø´!
                    </div>
                </div>
            </div>
        </div>

        <div class="game-stats">
            <div class="stat-board timer-board">
                <div class="stat-label timer-label">ÊôÇÈñì</div>
                <span id="timer" class="stat-value">20</span>
            </div>
            <div class="stat-board score-board">
                <div class="stat-label score-label">ÂàÜÊï∏</div>
                <span id="score" class="stat-value">0</span>
            </div>
            <div class="stat-board high-score-board">
                <div class="stat-label high-score-label">ÊúÄÈ´òÂàÜ</div>
                <span id="highScore" class="stat-value">0</span>
            </div>
        </div>
        
        <div class="character-container">
            <div id="speech-bubble" class="speech-bubble">
                <p>ÊâìÊàëÂëÄ,ÂìàÂìà!</p>
            </div>
            <div id="victor" class="character">
                <!-- Âü∫Êú¨Ë°®ÊÉÖ -->
                <svg class="expression normal" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- È†≠ÈÉ® -->
                    <ellipse cx="100" cy="105" rx="46" ry="55" fill="#ffe0bd"/>
                    
                    <!-- È†≠È´Æ (ÊôÇÂ∞öÈÄ†Âûã) -->
                    <g id="hair">
                        <!-- Âü∫Êú¨È´ÆÂûã -->
                        <path d="M60 75 C50 15 115 25 140 75" fill="#8B4513"/>
                        <!-- Â∑¶ÂÅ¥Ë±éËµ∑È´ÆÂûã -->
                        <path d="M65 75 C35 10 85 20 125 75" fill="#8B4513"/>
                        <path d="M70 75 C30 5 80 15 120 75" fill="#8B4513"/>
                        <!-- È´ÆÁµ≤Â±§Ê¨° -->
                        <path d="M75 75 C40 15 75 20 115 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M80 75 C35 10 80 15 120 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <!-- ÂÅ¥ÈÇäÈÄ†Âûã -->
                        <path d="M65 75 C35 35 55 30 85 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M115 75 C125 35 130 40 135 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <!-- ÂâçÈ´ÆÁ¥∞ÁØÄ -->
                        <path d="M70 75 C40 15 70 20 110 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÁúºÈè° -->
                    <g id="glasses">
                        <rect x="63" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <rect x="105" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <line x1="95" y1="93" x2="105" y2="93" stroke="#000" stroke-width="2.5"/>
                        <line x1="63" y1="93" x2="53" y2="91" stroke="#000" stroke-width="2.5"/>
                        <line x1="137" y1="93" x2="147" y2="91" stroke="#000" stroke-width="2.5"/>
                    </g>
                    
                    <!-- ÁúºÁùõ -->
                    <g id="eyes">
                        <circle cx="80" cy="94" r="3" fill="#000"/>
                        <circle cx="120" cy="94" r="3" fill="#000"/>
                    </g>
                    
                    <!-- ÁúâÊØõ -->
                    <g id="eyebrows">
                        <path d="M70 75 Q80 73 90 75" stroke="#8B4513" stroke-width="2" fill="none"/>
                        <path d="M110 75 Q120 73 130 75" stroke="#8B4513" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- Âò¥Â∑¥ -->
                    <path id="mouth" d="M90 125 Q100 128 110 125" stroke="#000" stroke-width="1.5" fill="none"/>
                </svg>
                
                <!-- È©öË®ùË°®ÊÉÖ -->
                <svg class="expression surprised hidden" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- È†≠ÈÉ® -->
                    <ellipse cx="100" cy="105" rx="46" ry="55" fill="#ffe0bd"/>
                    
                    <!-- È†≠È´Æ (ÊôÇÂ∞öÈÄ†Âûã) -->
                    <g id="hair">
                        <!-- Âü∫Êú¨È´ÆÂûã -->
                        <path d="M60 75 C50 15 115 25 140 75" fill="#8B4513"/>
                        <!-- Â∑¶ÂÅ¥Ë±éËµ∑È´ÆÂûã -->
                        <path d="M65 75 C35 10 85 20 125 75" fill="#8B4513"/>
                        <path d="M70 75 C30 5 80 15 120 75" fill="#8B4513"/>
                        <!-- È´ÆÁµ≤Â±§Ê¨° -->
                        <path d="M75 75 C40 15 75 20 115 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M80 75 C35 10 80 15 120 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <!-- ÂÅ¥ÈÇäÈÄ†Âûã -->
                        <path d="M65 75 C35 35 55 30 85 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M115 75 C125 35 130 40 135 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <!-- ÂâçÈ´ÆÁ¥∞ÁØÄ -->
                        <path d="M70 75 C40 15 70 20 110 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÁúºÈè° -->
                    <g id="glasses">
                        <rect x="63" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <rect x="105" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <line x1="95" y1="93" x2="105" y2="93" stroke="#000" stroke-width="2.5"/>
                        <line x1="63" y1="93" x2="53" y2="91" stroke="#000" stroke-width="2.5"/>
                        <line x1="137" y1="93" x2="147" y2="91" stroke="#000" stroke-width="2.5"/>
                    </g>
                    
                    <!-- È©öË®ùÁöÑÁúºÁùõ (Êõ¥Â§ß) -->
                    <g id="eyes">
                        <circle cx="80" cy="94" r="4" fill="#000"/>
                        <circle cx="120" cy="94" r="4" fill="#000"/>
                    </g>
                    
                    <!-- È©öË®ùÁöÑÁúâÊØõ (‰∏äÊèö) -->
                    <g id="eyebrows">
                        <path d="M70 70 Q80 65 90 70" stroke="#8B4513" stroke-width="2" fill="none"/>
                        <path d="M110 70 Q120 65 130 70" stroke="#8B4513" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- È©öË®ùÁöÑÂò¥Â∑¥ (ÂæÆÂºµ) -->
                    <path id="mouth" d="M90 125 Q100 132 110 125" stroke="#000" stroke-width="1.5" fill="none"/>
                </svg>
                
                <!-- ÁóõËã¶Ë°®ÊÉÖ -->
                <svg class="expression hurt hidden" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- È†≠ÈÉ® -->
                    <ellipse cx="100" cy="105" rx="46" ry="55" fill="#ffe0bd"/>
                    
                    <!-- È†≠È´Æ (ÊôÇÂ∞öÈÄ†Âûã) -->
                    <g id="hair">
                        <!-- Âü∫Êú¨È´ÆÂûã -->
                        <path d="M60 75 C50 15 115 25 140 75" fill="#8B4513"/>
                        <!-- Â∑¶ÂÅ¥Ë±éËµ∑È´ÆÂûã -->
                        <path d="M65 75 C35 10 85 20 125 75" fill="#8B4513"/>
                        <path d="M70 75 C30 5 80 15 120 75" fill="#8B4513"/>
                        <!-- È´ÆÁµ≤Â±§Ê¨° -->
                        <path d="M75 75 C40 15 75 20 115 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M80 75 C35 10 80 15 120 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <!-- ÂÅ¥ÈÇäÈÄ†Âûã -->
                        <path d="M65 75 C35 35 55 30 85 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M115 75 C125 35 130 40 135 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <!-- ÂâçÈ´ÆÁ¥∞ÁØÄ -->
                        <path d="M70 75 C40 15 70 20 110 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÁúºÈè° -->
                    <g id="glasses">
                        <rect x="63" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <rect x="105" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <line x1="95" y1="93" x2="105" y2="93" stroke="#000" stroke-width="2.5"/>
                        <line x1="63" y1="93" x2="53" y2="91" stroke="#000" stroke-width="2.5"/>
                        <line x1="137" y1="93" x2="147" y2="91" stroke="#000" stroke-width="2.5"/>
                    </g>
                    
                    <!-- ÁóõËã¶ÁöÑÁúºÁùõ (ÁûáËµ∑) -->
                    <g id="eyes">
                        <path d="M75 94 Q80 92 85 94" stroke="#000" stroke-width="2" fill="none"/>
                        <path d="M115 94 Q120 92 125 94" stroke="#000" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÁóõËã¶ÁöÑÁúâÊØõ (Áö∫Áúâ) -->
                    <g id="eyebrows">
                        <path d="M70 75 Q80 80 90 75" stroke="#8B4513" stroke-width="2" fill="none"/>
                        <path d="M110 75 Q120 80 130 75" stroke="#8B4513" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÁóõËã¶ÁöÑÂò¥Â∑¥ -->
                    <path id="mouth" d="M90 125 Q100 120 110 125" stroke="#000" stroke-width="1.5" fill="none"/>
                </svg>
                
                <!-- ÂßîÂ±àË°®ÊÉÖ -->
                <svg class="expression sad hidden" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- È†≠ÈÉ® -->
                    <ellipse cx="100" cy="105" rx="46" ry="55" fill="#ffe0bd"/>
                    
                    <!-- È†≠È´Æ -->
                    <g id="hair">
                        <path d="M60 75 C50 15 115 25 140 75" fill="#8B4513"/>
                        <path d="M75 75 C85 25 115 25 125 75" fill="#8B4513"/>
                        <path d="M80 75 C95 20 105 20 120 75" fill="#8B4513"/>
                        <path d="M85 75 C95 35 105 35 115 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M90 75 C100 30 110 30 120 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÁúºÈè° -->
                    <g id="glasses">
                        <rect x="63" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <rect x="105" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="2.5" rx="2"/>
                        <line x1="95" y1="93" x2="105" y2="93" stroke="#000" stroke-width="2.5"/>
                        <line x1="63" y1="93" x2="53" y2="91" stroke="#000" stroke-width="2.5"/>
                        <line x1="137" y1="93" x2="147" y2="91" stroke="#000" stroke-width="2.5"/>
                    </g>
                    
                    <!-- ÂßîÂ±àÁöÑÁúºÁùõ (Âê´Ê∑ö) -->
                    <g id="eyes">
                        <circle cx="80" cy="94" r="3" fill="#000"/>
                        <circle cx="120" cy="94" r="3" fill="#000"/>
                        <!-- Ê∑öÁè† -->
                        <circle cx="85" cy="98" r="1" fill="#4FB4F2"/>
                        <circle cx="125" cy="98" r="1" fill="#4FB4F2"/>
                    </g>
                    
                    <!-- ÂßîÂ±àÁöÑÁúâÊØõ -->
                    <g id="eyebrows">
                        <path d="M70 75 Q80 78 90 75" stroke="#8B4513" stroke-width="2" fill="none"/>
                        <path d="M110 75 Q120 78 130 75" stroke="#8B4513" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÂßîÂ±àÁöÑÂò¥Â∑¥ -->
                    <path id="mouth" d="M90 125 Q100 122 110 125" stroke="#000" stroke-width="1.5" fill="none"/>
                </svg>
                
                <!-- ÊÜ§ÊÄíË°®ÊÉÖ -->
                <svg class="expression angry hidden" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- È†≠ÈÉ® -->
                    <ellipse cx="100" cy="105" rx="46" ry="55" fill="#ffb0b0"/>
                    
                    <!-- È†≠È´Æ (ÊÜ§ÊÄíË±éËµ∑) -->
                    <g id="hair">
                        <!-- Âü∫Êú¨È´ÆÂûã -->
                        <path d="M60 75 C50 15 115 25 140 75" fill="#8B4513"/>
                        <!-- Â∑¶ÂÅ¥Ë±éËµ∑È´ÆÂûã (Êõ¥Ë™áÂºµ) -->
                        <path d="M65 75 C35 10 85 20 125 75" fill="#8B4513"/>
                        <path d="M70 75 C30 5 80 15 120 75" fill="#8B4513"/>
                        <!-- È´ÆÁµ≤Â±§Ê¨° (Êõ¥Ë±éÁõ¥) -->
                        <path d="M75 75 C40 15 75 20 115 75" stroke="#A0522D" stroke-width="3" fill="none"/>
                        <path d="M80 75 C35 10 80 15 120 75" stroke="#A0522D" stroke-width="3" fill="none"/>
                        <!-- ÂÅ¥ÈÇäË±éËµ∑ -->
                        <path d="M65 75 C35 35 55 30 85 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <path d="M115 75 C125 35 130 40 135 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                        <!-- ÂâçÈ´ÆË±éËµ∑ -->
                        <path d="M70 75 C40 15 70 20 110 75" stroke="#A0522D" stroke-width="2" fill="none"/>
                    </g>
                    
                    <!-- ÁúºÈè° -->
                    <g id="glasses">
                        <rect x="63" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="3" rx="2"/>
                        <rect x="105" y="78" width="32" height="30" fill="none" stroke="#000" stroke-width="3" rx="2"/>
                        <line x1="95" y1="93" x2="105" y2="93" stroke="#000" stroke-width="3"/>
                        <line x1="63" y1="93" x2="53" y2="91" stroke="#000" stroke-width="3"/>
                        <line x1="137" y1="93" x2="147" y2="91" stroke="#000" stroke-width="3"/>
                    </g>
                    
                    <!-- ÊÜ§ÊÄíÁöÑÁúºÁùõ (ÁôºÁ¥Ö) -->
                    <g id="eyes">
                        <circle cx="80" cy="94" r="3" fill="#FF0000"/>
                        <circle cx="120" cy="94" r="3" fill="#FF0000"/>
                    </g>
                    
                    <!-- ÊÜ§ÊÄíÁöÑÁúâÊØõ -->
                    <g id="eyebrows">
                        <path d="M70 75 Q80 65 90 75" stroke="#8B4513" stroke-width="3" fill="none"/>
                        <path d="M110 75 Q120 65 130 75" stroke="#8B4513" stroke-width="3" fill="none"/>
                    </g>
                    
                    <!-- ÊÜ§ÊÄíÁöÑÂò¥Â∑¥ -->
                    <path id="mouth" d="M85 125 Q100 115 115 125" stroke="#000" stroke-width="2" fill="none"/>
                </svg>
            </div>
        </div>
    </div>
    <div class="version-number">v1.0.0</div>
    <script src="script.js"></script>
</body>
</html>
