:root{--color-primary: #0A192F;--color-secondary: #64FFDA;--color-accent: #FFD700;--color-background: #040B1C;--color-text: #E6F1FF;--color-text-light: #ffffff;--safe-area-inset-top: env(safe-area-inset-top, 0px);--safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);--tech-primary: #001B3D;--tech-secondary: #003366;--tech-accent: #64FFDA;--tech-gold: #FFD700;--border-glow: #64FFDA;--text-light: #E6F1FF}*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}body{display:flex;justify-content:center;align-items:center;min-height:100vh;height:100vh;background:var(--color-background);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;padding:calc(10px + var(--safe-area-inset-top)) 10px calc(10px + var(--safe-area-inset-bottom));color:var(--text-light);overflow:hidden;background-image:radial-gradient(circle at 50% 50%,rgba(100,255,218,.1) 0%,transparent 50%),linear-gradient(45deg,#001b3db3,#003366b3);position:relative}body:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:repeating-linear-gradient(0deg,transparent 0px,transparent 2px,rgba(100,255,218,.03) 2px,rgba(100,255,218,.03) 4px),repeating-linear-gradient(90deg,transparent 0px,transparent 2px,rgba(100,255,218,.03) 2px,rgba(100,255,218,.03) 4px),linear-gradient(45deg,rgba(0,0,0,.2) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.2) 25%,transparent 25%);background-size:4px 4px,4px 4px,20px 20px,20px 20px;pointer-events:none;animation:backgroundShift 30s linear infinite}.game-container{text-align:center;background:#001b3dcc;padding:20px;border-radius:15px;box-shadow:0 0 20px #64ffda33,inset 0 0 20px #64ffda1a;max-width:800px;width:100%;max-height:calc(100vh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));overflow:visible;display:flex;flex-direction:column;border:1px solid rgba(100,255,218,.3);position:relative;gap:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.game-container:before{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;background:linear-gradient(45deg,var(--tech-accent),transparent,var(--tech-gold));border-radius:16px;z-index:-1;animation:borderGlow 3s linear infinite;opacity:.5}.game-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding:0 10px;position:relative}h1{color:var(--tech-accent);font-size:2.4em;font-weight:800;text-shadow:0 0 10px rgba(100,255,218,.5);letter-spacing:-.5px;margin:0}.instructions{background:#0369;padding:15px;border-radius:10px;box-shadow:0 0 15px #64ffda1a;border:1px solid rgba(100,255,218,.2);color:var(--text-light);position:relative;overflow:hidden}.instructions:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 0%,rgba(100,255,218,.1) 50%,transparent 100%);animation:lightSweep 3s linear infinite}.instruction-content{display:flex;flex-direction:column;gap:8px}.instruction-title{font-size:1.2em;font-weight:700;color:#fff;display:flex;align-items:center;gap:8px;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.instruction-title .icon{font-size:1.3em}.instruction-details{display:flex;flex-direction:column;gap:8px}.detail-item{display:flex;align-items:center;gap:8px;font-size:1em;color:#ffe4b5;font-weight:500;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.detail-item .icon{font-size:1em}.game-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:15px;padding:0 10px;position:relative;z-index:1}.stat-board{background:#0369;padding:12px 20px;border-radius:10px;text-align:center;box-shadow:0 0 15px #64ffda1a;border:1px solid rgba(100,255,218,.2);position:relative;overflow:hidden}.stat-board:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 0%,rgba(100,255,218,.1) 50%,transparent 100%);animation:lightSweep 3s linear infinite;animation-delay:1s}.stat-label{color:#fff;font-size:.9em;margin-bottom:5px;text-transform:uppercase;letter-spacing:1px;font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.stat-value{font-size:24px;font-weight:700;color:var(--tech-accent);text-shadow:0 0 10px rgba(100,255,218,.5)}#timer{color:var(--tech-gold);text-shadow:0 0 10px rgba(255,215,0,.5)}#score,#highScore{color:#ffe66d;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.controls{display:flex;justify-content:center;align-items:center}#resetBtn{background:#036c;border:1px solid var(--tech-accent);border-radius:8px;padding:12px 24px;color:var(--tech-accent);font-weight:700;cursor:pointer;position:relative;box-shadow:0 0 15px #64ffda33;transition:all .3s ease;overflow:hidden}#resetBtn:hover{background:#64ffda1a;transform:translateY(-2px);box-shadow:0 0 20px #64ffda4d}#resetBtn:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 0%,rgba(100,255,218,.2) 50%,transparent 100%);animation:lightSweep 2s linear infinite}.character-container{width:min(280px,70vw);height:min(280px,70vw);margin:20px auto;position:relative;background:#ffffff1a;border-radius:50%;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 0 30px #64ffda33;padding:10px;transition:all .3s cubic-bezier(.4,0,.2,1);overflow:visible;cursor:pointer;z-index:2;border:2px solid rgba(100,255,218,.3)}.character-container:before{content:"";position:absolute;top:-5px;left:-5px;right:-5px;bottom:-5px;border-radius:50%;background:linear-gradient(45deg,var(--tech-accent),transparent,var(--tech-gold));z-index:-1;animation:rotate 3s linear infinite}.character{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;border-radius:50%;overflow:hidden;z-index:1}.expression{position:absolute;width:100%;height:100%;transition:all .3s ease;opacity:1;transform-origin:center;pointer-events:none;visibility:visible}.expression.hidden{opacity:0;pointer-events:none;visibility:hidden}.character svg{width:100%;height:100%;display:block;pointer-events:none}.character-container:hover,.character-container.hover{transform:scale(1.03);box-shadow:0 20px 40px #0003}.character-container:active,.character-container.active{transform:scale(.97);box-shadow:0 10px 30px #00000026}.speech-bubble{position:absolute;background:var(--tech-secondary);border-radius:20px;padding:15px 25px;top:-30px;right:-20px;transform:none;max-width:250px;min-width:180px;opacity:1;transition:all .3s cubic-bezier(.4,0,.2,1);animation:bobbing 2.5s infinite;font-size:16px;font-weight:600;box-shadow:0 12px 30px #0000004d;border:3px solid var(--border-glow);z-index:2000;color:#fff;text-align:center;pointer-events:none;white-space:nowrap;text-shadow:1px 1px 2px rgba(0,0,0,.5);display:block!important;visibility:visible!important}.speech-bubble p{margin:0;padding:0}.speech-bubble:before{content:"";position:absolute;left:30%;bottom:-15px;width:20px;height:20px;background:var(--tech-secondary);transform:rotate(45deg);border-radius:4px;box-shadow:6px 6px 15px #0003;z-index:-1;border-right:3px solid var(--border-glow);border-bottom:3px solid var(--border-glow)}.speech-bubble.hidden{opacity:0;transform:translate(-50%,-20px);pointer-events:none;display:block!important;visibility:visible!important}@keyframes bobbing{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.timer-urgent{animation:timerPulse .5s infinite}@keyframes timerPulse{0%{color:var(--color-secondary);transform:scale(1)}50%{color:red;transform:scale(1.15)}to{color:var(--color-secondary);transform:scale(1)}}.game-started{animation:startPulse .6s cubic-bezier(.4,0,.2,1)}@keyframes startPulse{0%{transform:scale(1)}50%{transform:scale(1.25)}to{transform:scale(1)}}#timer.game-started{color:red;animation:timerStart .6s cubic-bezier(.4,0,.2,1)}@keyframes timerStart{0%{transform:scale(1)}50%{transform:scale(1.35);color:#ff0}to{transform:scale(1)}}.version-number{position:fixed;bottom:calc(8px + var(--safe-area-inset-bottom));right:8px;font-size:12px;color:var(--tech-accent);text-shadow:0 0 5px rgba(100,255,218,.5);font-family:SF Mono,Monaco,Consolas,monospace;pointer-events:none;z-index:1000}@media (max-width: 480px){.game-container{padding:10px;gap:6px}h1{font-size:1.4em}.instructions{padding:8px;margin-bottom:6px}.instruction-title{font-size:.9em}.detail-item{font-size:.85em}.character-container{width:min(220px,55vw);height:min(220px,55vw);margin:8px auto}.leaderboard-panel{margin-top:6px;padding:8px}.leaderboard-title{font-size:.9em;margin-bottom:4px}.leaderboard-item{padding:6px 8px;font-size:.85em;gap:4px}.leaderboard-rank{min-width:24px}.leaderboard-score{font-size:.9em}.speech-bubble{padding:8px 12px;font-size:14px;min-width:120px;max-width:180px;top:-25px;right:-10px}.speech-bubble:before{left:40%}}@media (max-width: 360px){.game-container{padding:8px;gap:4px}h1{font-size:1.2em}.instructions{padding:6px;margin-bottom:4px}.instruction-title{font-size:.85em}.detail-item{font-size:.8em}.character-container{width:min(200px,50vw);height:min(200px,50vw);margin:6px auto}.leaderboard-panel{margin-top:4px;padding:6px}.leaderboard-title{font-size:.85em;margin-bottom:3px}.leaderboard-item{padding:4px 8px;font-size:.8em;gap:3px}.leaderboard-rank{min-width:20px}.leaderboard-score{font-size:.85em}.speech-bubble{padding:6px 10px;font-size:13px;min-width:100px;max-width:160px;top:-20px;right:-5px}.speech-bubble:before{left:45%;width:10px;height:10px;bottom:-7px}}@media (max-height: 700px){.game-container{gap:8px}.character-container{width:min(200px,50vw);height:min(200px,50vw);margin:6px auto}.speech-bubble{top:-20px;right:-5px;padding:6px 10px;font-size:13px}}.wooden-button{background:var(--tech-secondary);border:3px solid var(--border-glow);border-radius:8px;padding:12px 24px;color:#fff;font-weight:700;cursor:pointer;position:relative;box-shadow:0 4px 8px #0003;transition:transform .1s,box-shadow .1s;background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.1) 25%,transparent 25%);background-size:10px 10px;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.wooden-button:hover{transform:translateY(-2px);box-shadow:0 6px 12px #0000004d}.wooden-button:active{transform:translateY(1px);box-shadow:0 2px 4px #0003}.progress-bar{background:var(--tech-primary);border:3px solid var(--border-glow);border-radius:8px;height:24px;position:relative;overflow:hidden}.progress-bar-fill{background:var(--tech-accent);height:100%;transition:width .3s ease;border-radius:4px;box-shadow:inset 0 2px 4px #ffffff4d}.star-rating{display:inline-flex;gap:8px}.star{width:40px;height:40px;background:var(--tech-secondary);clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);border:2px solid var(--border-glow);position:relative}.star.filled{background:var(--tech-accent)}.wooden-panel{background:var(--tech-secondary);border:3px solid var(--border-glow);border-radius:8px;padding:15px;margin:10px 0;box-shadow:0 4px 8px #0003;background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.1) 25%,transparent 25%);background-size:15px 15px}.leaderboard-panel{margin-top:10px;background:var(--tech-secondary);padding:12px;border-radius:8px;box-shadow:0 4px 8px #0003}.leaderboard-title{font-size:1.1em;font-weight:700;color:var(--text-light);margin-bottom:8px;display:flex;align-items:center;gap:6px}.leaderboard-list{display:flex;flex-direction:column;gap:6px}.leaderboard-item{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#0000001a;border-radius:4px;color:var(--text-light);font-size:.95em;position:relative;overflow:hidden}.leaderboard-item:before{content:"";position:absolute;left:0;top:0;height:100%;width:4px}.leaderboard-item:nth-child(1){background:#ffd70026}.leaderboard-item:nth-child(1):before{background:gold}.leaderboard-item:nth-child(2){background:#c0c0c026}.leaderboard-item:nth-child(2):before{background:silver}.leaderboard-item:nth-child(3){background:#cd7f3226}.leaderboard-item:nth-child(3):before{background:#cd7f32}.leaderboard-rank{font-weight:700;min-width:30px;display:flex;align-items:center;gap:4px}.leaderboard-rank:after{font-size:1.2em}.leaderboard-item:nth-child(1) .leaderboard-rank:after{content:"👑"}.leaderboard-item:nth-child(2) .leaderboard-rank:after{content:"🥈"}.leaderboard-item:nth-child(3) .leaderboard-rank:after{content:"🥉"}.leaderboard-name{flex-grow:1;margin:0 10px;font-weight:500}.leaderboard-score{font-weight:700;color:#ffe66d;text-shadow:1px 1px 2px rgba(0,0,0,.3)}@media (max-width: 480px){.leaderboard-panel{margin-top:8px;padding:10px}.leaderboard-title{font-size:1em;margin-bottom:6px}.leaderboard-item{padding:6px 10px;font-size:.9em}}@media (max-width: 360px){.leaderboard-panel{margin-top:6px;padding:8px}.leaderboard-title{font-size:.95em;margin-bottom:4px}.leaderboard-item{padding:5px 8px;font-size:.85em}}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;justify-content:center;align-items:center;z-index:9999}.modal.hidden{display:none}.modal-content{width:90%;max-width:400px;text-align:center}.modal-content h2{color:var(--text-light);margin-bottom:15px}.modal-content p{color:var(--text-light);margin-bottom:20px}.wooden-input{width:100%;padding:10px;margin-bottom:15px;border:2px solid var(--border-glow);border-radius:4px;background:#ffffffe6;font-size:16px}.loading-screen{background:var(--color-background);position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:9999}.loading-screen.hidden{opacity:0;pointer-events:none}.loading-content{background:#001b3de6;padding:30px;border-radius:15px;box-shadow:0 0 30px #64ffda4d;border:1px solid rgba(100,255,218,.3);text-align:center;position:relative;overflow:hidden}.loading-content:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 0%,rgba(100,255,218,.1) 50%,transparent 100%);animation:lightSweep 3s linear infinite}.loading-avatar{width:120px;height:120px;border-radius:50%;border:2px solid var(--tech-accent);box-shadow:0 0 20px #64ffda4d;animation:pulse 2s infinite}.loading-text{color:var(--text-light);font-size:1.2em;margin-bottom:15px;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.loading-progress-bar{background:#0369;border:1px solid var(--tech-accent);border-radius:10px;height:20px;overflow:hidden;position:relative;margin:20px 0 10px}.loading-progress-fill{background:linear-gradient(90deg,var(--tech-accent),var(--tech-gold));height:100%;width:0%;transition:width .3s ease;position:relative;overflow:hidden}.loading-progress-fill:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.4) 50%,transparent 100%);animation:progressShine 2s linear infinite}@keyframes progressShine{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes pulse{0%{transform:scale(1);box-shadow:0 0 20px #64ffda4d}50%{transform:scale(1.05);box-shadow:0 0 30px #64ffda80}to{transform:scale(1);box-shadow:0 0 20px #64ffda4d}}@media (max-width: 480px){.loading-content{padding:15px}.loading-avatar{width:100px;height:100px}.loading-text{font-size:1.1em}}@media (max-width: 360px){.loading-content{padding:12px}.loading-avatar{width:80px;height:80px}.loading-text{font-size:1em}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes lightSweep{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes backgroundShift{0%{background-position:0 0}to{background-position:40px 40px}}
